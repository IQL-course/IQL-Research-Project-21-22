setwd("C:/Users/tonic/Pictures/IQL-Research-Project-21-22")
Sys.setlocale("LC_ALL","English")
source('code/analysis/R_functions.R', encoding="utf-8")
args = commandArgs(trailingOnly=TRUE)
filter <- if (length(args) == 1) as.logical(args[[1]]) else T
# GLOBALS  --------------------------------------------------------
## pud
langs_df_pud <- read.csv(here(which_folder('data',filter),"descriptive_tables/pud.csv"))
## cv
langs_df_cv <- read.csv(here(which_folder('data',filter),"descriptive_tables/common_voice.csv")) %>%
shorten_names()
# + filter alphabet with k-means
print('file: alphabets')
res <- lapply(COLLS,function(collection) {
iso_codes <- if (collection == 'pud') langs_df_pud$iso_code else if (collection == 'cv') langs_df_cv$iso_code
lapply(iso_codes, function(iso_code) {
df <- read.csv(here('data/non_filtered',paste0('alphabets/',collection,'/',iso_code,'-character.csv'))) %>%
mutate(Freq=log10(frequencyTot)) %>% arrange(desc(Freq))
df$group_opt <- Ckmeans.1d.dp(df$Freq, 2)$cluster
df <- if (filter == T) filter(df,group_opt == 2) else df
alphabet <- df[,c(1,2,3)]
print(paste0(here(which_folder('data',filter)),'/alphabets/',collection,'/',iso_code,'-character.csv'))
write.csv(alphabet, paste0(here(which_folder('data',filter)),'/alphabets/',collection,'/',iso_code,'-character.csv'),row.names = FALSE)
})
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df$language, function(language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
Sys.setlocale("LC_ALL","English")
source('code/analysis/R_functions.R', encoding="utf-8")
args = commandArgs(trailingOnly=TRUE)
filter <- if (length(args) == 1) as.logical(args[[1]]) else T
# GLOBALS  --------------------------------------------------------
## pud
langs_df_pud <- read.csv(here(which_folder('data',filter),"descriptive_tables/pud.csv"))
## cv
langs_df_cv <- read.csv(here(which_folder('data',filter),"descriptive_tables/common_voice.csv")) %>%
shorten_names()
# + filter alphabet with k-means
print('file: alphabets')
res <- lapply(COLLS,function(collection) {
iso_codes <- if (collection == 'pud') langs_df_pud$iso_code else if (collection == 'cv') langs_df_cv$iso_code
lapply(iso_codes, function(iso_code) {
df <- read.csv(here('data/non_filtered',paste0('alphabets/',collection,'/',iso_code,'-character.csv'))) %>%
mutate(Freq=log10(frequencyTot)) %>% arrange(desc(Freq))
df$group_opt <- Ckmeans.1d.dp(df$Freq, 2)$cluster
df <- if (filter == T) filter(df,group_opt == 2) else df
alphabet <- df[,c(1,2,3)]
print(paste0(here(which_folder('data',filter)),'/alphabets/',collection,'/',iso_code,'-character.csv'))
write.csv(alphabet, paste0(here(which_folder('data',filter)),'/alphabets/',collection,'/',iso_code,'-character.csv'),row.names = FALSE)
})
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df$language, function(language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
Sys.setlocale("LC_ALL","English")
source('code/analysis/R_functions.R', encoding="utf-8")
args = commandArgs(trailingOnly=TRUE)
filter <- if (length(args) == 1) as.logical(args[[1]]) else T
# GLOBALS  --------------------------------------------------------
## pud
langs_df_pud <- read.csv(here(which_folder('data',filter),"descriptive_tables/pud.csv"))
## cv
langs_df_cv <- read.csv(here(which_folder('data',filter),"descriptive_tables/common_voice.csv")) %>%
shorten_names()
# + filter alphabet with k-means
print('file: alphabets')
res <- lapply(COLLS,function(collection) {
iso_codes <- if (collection == 'pud') langs_df_pud$iso_code else if (collection == 'cv') langs_df_cv$iso_code
lapply(iso_codes, function(iso_code) {
df <- read.csv(here('data/non_filtered',paste0('alphabets/',collection,'/',iso_code,'-character.csv'))) %>%
mutate(Freq=log10(frequencyTot)) %>% arrange(desc(Freq))
df$group_opt <- Ckmeans.1d.dp(df$Freq, 2)$cluster
df <- if (filter == T) filter(df,group_opt == 2) else df
alphabet <- df[,c(1,2,3)]
print(paste0(here(which_folder('data',filter)),'/alphabets/',collection,'/',iso_code,'-character.csv'))
write.csv(alphabet, paste0(here(which_folder('data',filter)),'/alphabets/',collection,'/',iso_code,'-character.csv'),row.names = FALSE)
})
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df$language, function(language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
Sys.setlocale("LC_ALL","English")
source('code/analysis/R_functions.R', encoding="utf-8")
args = commandArgs(trailingOnly=TRUE)
filter <- if (length(args) == 1) as.logical(args[[1]]) else T
# GLOBALS  --------------------------------------------------------
## pud
langs_df_pud <- read.csv(here(which_folder('data',filter),"descriptive_tables/pud.csv"))
## cv
langs_df_cv <- read.csv(here(which_folder('data',filter),"descriptive_tables/common_voice.csv")) %>%
shorten_names()
# + filter alphabet with k-means
print('file: alphabets')
res <- lapply(COLLS,function(collection) {
iso_codes <- if (collection == 'pud') langs_df_pud$iso_code else if (collection == 'cv') langs_df_cv$iso_code
lapply(iso_codes, function(iso_code) {
df <- read.csv(here('data/non_filtered',paste0('alphabets/',collection,'/',iso_code,'-character.csv'))) %>%
mutate(Freq=log10(frequencyTot)) %>% arrange(desc(Freq))
df$group_opt <- Ckmeans.1d.dp(df$Freq, 2)$cluster
df <- if (filter == T) filter(df,group_opt == 2) else df
alphabet <- df[,c(1,2,3)]
print(paste0(here(which_folder('data',filter)),'/alphabets/',collection,'/',iso_code,'-character.csv'))
write.csv(alphabet, paste0(here(which_folder('data',filter)),'/alphabets/',collection,'/',iso_code,'-character.csv'),row.names = FALSE)
})
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df$language, function(language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
print(df)
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df$language, function(language) {
print(df)
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
print(langs_df$language)
parameters <- lapply(langs_df$language, function(language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
print(langs_df$iso_code)
parameters <- lapply(langs_df$language, function(language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df$iso_code, function(iso_code) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
parameters <- lapply(langs_df$iso_code,langs_df$iso_code, function(iso_code,language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
parameters <- lapply(langs_df$iso_code,langs_df$language, function(iso_code,language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df$iso_code,langs_df$language, function(iso_code,language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(c(langs_df$iso_code,langs_df$language), function(iso_code,language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(c(langs_df$iso_code,langs_df$language), function(iso_language) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_language[1],'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=iso_language[1], 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(c(langs_df$iso_code,langs_df$language), function(iso_language) {
print(iso_language)
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_language[1],'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=iso_language[1], 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df, function(langs_df) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',langs_df$iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=langs_df$language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df, function(langs_df) {
print(langs_df)
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',langs_df$iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=langs_df$language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
print(langs_df)
parameters <- lapply(langs_df, function(langs_df) {
print(langs_df)
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',langs_df$iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=langs_df$language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df[,c(1,2)], function(langs_df) {
print(langs_df)
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',langs_df$iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=langs_df$language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
list("language"=langs_df[iso_code]$language, 'A'=alphabet_size)
# + alphabet sizes
print('file: alphabets sizes')
res <- lapply(COLLS,function(collection) {
langs_df <- if (collection == 'pud') langs_df_pud else if (collection == 'cv') langs_df_cv
parameters <- lapply(langs_df$iso_code, function(iso_code) {
df       <- read.csv(here(which_folder('data',filter),paste0('alphabets/',collection,'/',iso_code,'-character.csv')))
#words    <- if ('romanized_form' %in% colnames(df)) tolower(df$romanized_form) else df$word
#alphabet <- unique(unlist(strsplit(words, '')))
#alphabet_size <- alphabet %>% length()
alphabet_size <- nrow(df)
list("language"=langs_df[iso_code]$language, 'A'=alphabet_size)
})
df = do.call(rbind.data.frame,parameters)
write.csv(df, here(which_folder('results',filter),paste0('alphabet_sisez_',collection,'.csv')))
})
